CREATE TABLE BANKCODE(
    CCODE       NUMBER PRIMARY KEY,
    CNAME       NVARCHAR2(10)    
);

INSERT INTO BANKCODE VALUES(1,'일반');
INSERT INTO BANKCODE VALUES(2,'적금');
INSERT INTO BANKCODE VALUES(3,'청약');
INSERT INTO BANKCODE VALUES(4,'주식');

CREATE TABLE BANKMEMBER(
    MID         NVARCHAR2(20) PRIMARY KEY,
    MPW         NVARCHAR2(16),
    MNAME       NVARCHAR2(5),
    MPHONE      NVARCHAR2(20)
);

INSERT INTO BANKMEMBER VALUES('admin','1234','관리자','010-1111-2222');

CREATE TABLE BANKTEAM(
    MID         NVARCHAR2(20) CONSTRAINT BT_BM_FK REFERENCES BANKMEMBER,
    TACCOUNT    NVARCHAR2(20) PRIMARY KEY,
    TBALANCE    NUMBER,
    CCODE       NUMBER CONSTRAINT BT_BC_FK REFERENCES BANKCODE,
    TNAME       NVARCHAR2(20)
);

CREATE TABLE BANKRECORD(
    RNUM        NUMBER UNIQUE,
    RDATE       DATE,
    TACCOUNT    NVARCHAR2(20) CONSTRAINT BR_BT_FK REFERENCES BANKTEAM,
    TBALANCE    NUMBER,
    RCHECK      NVARCHAR2(10)    
);

CREATE TABLE PACCOUNT(
    TACCOUNT    NVARCHAR2(20) CONSTRAINT AT_TT_FK REFERENCES BANKTEAM,
    ATOTAL      NUMBER,
    ACOUNT      NUMBER
);

CREATE TABLE AMEMBER(
    MID         NVARCHAR2(20) PRIMARY KEY,
    MPW         NVARCHAR2(20),
    MNAME       NVARCHAR2(5),
    MPHONE      NVARCHAR2(13),
    MPASSPORT   NVARCHAR2(9),
    MBIRTH      DATE,
    MADMIN      NUMBER
);

CREATE TABLE CODE(
    CODE        NVARCHAR2(3) PRIMARY KEY,
    NATION      NVARCHAR2(20),
    CITY        NVARCHAR2(20),
    TZONE       NUMBER
);

CREATE TABLE PAY(
    RCHECK      NUMBER PRIMARY KEY,
    PNAME       NVARCHAR2(10)
);

INSERT INTO PAY VALUES(0,'장바구니');
INSERT INTO PAY VALUES(1,'결제대기');
INSERT INTO PAY VALUES(2,'결제완료');

CREATE  TABLE AIRLINE(
    ANAME       NVARCHAR2(10) PRIMARY KEY,
    ATYPE       NVARCHAR2(10),
    ACOMPANY    NVARCHAR2(20),
    ATIME       NUMBER,
    DCODE       NVARCHAR2(3) CONSTRAINT AD_CC_FK REFERENCES CODE(CODE),
    ACODE       NVARCHAR2(3) CONSTRAINT AA_CC_FK REFERENCES CODE(CODE)
);

CREATE TABLE ASCHEDULE(
    SNUM        NVARCHAR2(20) PRIMARY KEY,
    SSTART      NVARCHAR2(20),
    SPRICE      NUMBER,
    ANAME       NVARCHAR2(10) CONSTRAINT SN_AN_FK REFERENCES AIRLINE
);

CREATE TABLE ARESERVATION(
    MID         NVARCHAR2(20) CONSTRAINT RI_MI_FK REFERENCES AMEMBER,
    RTIME       DATE,
    SNUM        NVARCHAR2(20)  CONSTRAINT RN_SN_FK REFERENCES ASCHEDULE,
    RNUM        NUMBER,
    RCHECK      NUMBER CONSTRAINT PR_RR_FK REFERENCES PAY
);

CREATE TABLE NATIONINFO(
    NATION              NVARCHAR2(20),           -- 국가
    MAJORCITY           NVARCHAR2(100),         -- 주요도시
    REXCHANGE           NVARCHAR2(20),          -- 화폐
    CLIMATE             NVARCHAR2(20),          -- 기후
    NATION_LANGUAGE     NVARCHAR2(20),          -- 언어
    GDP                 NVARCHAR2(20)           -- GDP
);

CREATE TABLE COMPANYINFO(
    ACOMPANY    NVARCHAR2(10),
    CROUNGE     NVARCHAR2(50),          -- 항공동맹
    COMPANYURL  NVARCHAR2(50),           -- 마일리지
    ROUTENUM    NVARCHAR2(20),           -- 운항노선
    AIRMODEL    NVARCHAR2(20)           -- 보유기종
);
